<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mockito | My Programming Blog</title><meta name=keywords content><meta name=description content="M·ªôt blog v·ªÅ l·∫≠p tr√¨nh v√† c√¥ng ngh·ªá - Chia s·∫ª ki·∫øn th·ª©c, kinh nghi·ªám v√† tips h·ªØu √≠ch cho developers"><meta name=author content="Thanh Tai"><link rel=canonical href=https://nguyenthanhluan09060024.github.io/my-programming-blog/tags/mockito/><link crossorigin=anonymous href=/my-programming-blog/assets/css/stylesheet.a482bf00fa5c046040ef7973ad5fdf5657890cacb596c93f1382f664ca542074.css integrity="sha256-pIK/APpcBGBA73lzrV/fVleJDKy1lsk/E4L2ZMpUIHQ=" rel="preload stylesheet" as=style><link rel=icon href=https://nguyenthanhluan09060024.github.io/my-programming-blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nguyenthanhluan09060024.github.io/my-programming-blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://nguyenthanhluan09060024.github.io/my-programming-blog/favicon-32x32.png><link rel=apple-touch-icon href=https://nguyenthanhluan09060024.github.io/my-programming-blog/apple-touch-icon.png><link rel=mask-icon href=https://nguyenthanhluan09060024.github.io/my-programming-blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nguyenthanhluan09060024.github.io/my-programming-blog/tags/mockito/index.xml title=rss><link rel=alternate hreflang=en href=https://nguyenthanhluan09060024.github.io/my-programming-blog/tags/mockito/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://nguyenthanhluan09060024.github.io/my-programming-blog/tags/mockito/"><meta property="og:site_name" content="My Programming Blog"><meta property="og:title" content="Mockito"><meta property="og:description" content="M·ªôt blog v·ªÅ l·∫≠p tr√¨nh v√† c√¥ng ngh·ªá - Chia s·∫ª ki·∫øn th·ª©c, kinh nghi·ªám v√† tips h·ªØu √≠ch cho developers"><meta property="og:locale" content="vi"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mockito"><meta name=twitter:description content="M·ªôt blog v·ªÅ l·∫≠p tr√¨nh v√† c√¥ng ngh·ªá - Chia s·∫ª ki·∫øn th·ª©c, kinh nghi·ªám v√† tips h·ªØu √≠ch cho developers"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/ accesskey=h title="My Programming Blog (Alt + H)">My Programming Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/ title="üè† Trang ch·ªß"><span>üè† Trang ch·ªß</span></a></li><li><a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/posts/ title="üìù B√†i vi·∫øt"><span>üìù B√†i vi·∫øt</span></a></li><li><a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/about/ title="üëã Gi·ªõi thi·ªáu"><span>üëã Gi·ªõi thi·ªáu</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/>Home</a>&nbsp;¬ª&nbsp;<a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/tags/>Tags</a></div><h1>Mockito
<a href=/my-programming-blog/tags/mockito/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Testing trong Spring Boot - Unit Test v√† Integration Test</h2></header><div class=entry-content><p>Testing trong Spring Boot - Unit Test v√† Integration Test Testing l√† m·ªôt ph·∫ßn quan tr·ªçng trong ph√°t tri·ªÉn ph·∫ßn m·ªÅm. Spring Boot cung c·∫•p c√°c c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ vi·∫øt unit test v√† integration test. Trong b√†i vi·∫øt n√†y, t√¥i s·∫Ω h∆∞·ªõng d·∫´n b·∫°n c√°ch testing hi·ªáu qu·∫£.
T·∫°i Sao C·∫ßn Testing? Quality Assurance: ƒê·∫£m b·∫£o ch·∫•t l∆∞·ª£ng code Regression Prevention: NgƒÉn ch·∫∑n l·ªói khi thay ƒë·ªïi code Documentation: Test cases l√† t√†i li·ªáu s·ªëng Confidence: T·ª± tin khi refactor code CI/CD: T√≠ch h·ª£p v√†o quy tr√¨nh deployment Dependencies cho Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 &lt;dependencies> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.testcontainers&lt;/groupId> &lt;artifactId>junit-jupiter&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;dependency> &lt;groupId>org.testcontainers&lt;/groupId> &lt;artifactId>mysql&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;/dependencies> Unit Testing 1. Service Layer Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 @ExtendWith(MockitoExtension.class) class UserServiceTest { @Mock private UserRepository userRepository; @Mock private PasswordEncoder passwordEncoder; @InjectMocks private UserService userService; @Test void shouldCreateUserSuccessfully() { // Given CreateUserRequest request = new CreateUserRequest(); request.setUsername("johndoe"); request.setEmail("john@example.com"); request.setPassword("password123"); request.setFirstName("John"); request.setLastName("Doe"); User savedUser = new User(); savedUser.setId(1L); savedUser.setUsername("johndoe"); savedUser.setEmail("john@example.com"); when(userRepository.existsByUsername("johndoe")).thenReturn(false); when(userRepository.existsByEmail("john@example.com")).thenReturn(false); when(passwordEncoder.encode("password123")).thenReturn("encodedPassword"); when(userRepository.save(any(User.class))).thenReturn(savedUser); // When User result = userService.createUser(request); // Then assertThat(result).isNotNull(); assertThat(result.getUsername()).isEqualTo("johndoe"); assertThat(result.getEmail()).isEqualTo("john@example.com"); verify(userRepository).existsByUsername("johndoe"); verify(userRepository).existsByEmail("john@example.com"); verify(passwordEncoder).encode("password123"); verify(userRepository).save(any(User.class)); } @Test void shouldThrowExceptionWhenUsernameExists() { // Given CreateUserRequest request = new CreateUserRequest(); request.setUsername("johndoe"); request.setEmail("john@example.com"); request.setPassword("password123"); request.setFirstName("John"); request.setLastName("Doe"); when(userRepository.existsByUsername("johndoe")).thenReturn(true); // When & Then assertThatThrownBy(() -> userService.createUser(request)) .isInstanceOf(RuntimeException.class) .hasMessage("Username already exists"); verify(userRepository).existsByUsername("johndoe"); verify(userRepository, never()).save(any(User.class)); } @Test void shouldGetUserById() { // Given Long userId = 1L; User user = new User(); user.setId(userId); user.setUsername("johndoe"); user.setEmail("john@example.com"); when(userRepository.findById(userId)).thenReturn(Optional.of(user)); // When Optional&lt;User> result = userService.getUserById(userId); // Then assertThat(result).isPresent(); assertThat(result.get().getUsername()).isEqualTo("johndoe"); verify(userRepository).findById(userId); } @Test void shouldReturnEmptyWhenUserNotFound() { // Given Long userId = 1L; when(userRepository.findById(userId)).thenReturn(Optional.empty()); // When Optional&lt;User> result = userService.getUserById(userId); // Then assertThat(result).isEmpty(); verify(userRepository).findById(userId); } } 2. Controller Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 @WebMvcTest(UserController.class) class UserControllerTest { @Autowired private MockMvc mockMvc; @MockBean private UserService userService; @Autowired private ObjectMapper objectMapper; @Test void shouldCreateUserSuccessfully() throws Exception { // Given CreateUserRequest request = new CreateUserRequest(); request.setUsername("johndoe"); request.setEmail("john@example.com"); request.setPassword("password123"); request.setFirstName("John"); request.setLastName("Doe"); User user = new User(); user.setId(1L); user.setUsername("johndoe"); user.setEmail("john@example.com"); when(userService.createUser(any(CreateUserRequest.class))).thenReturn(user); // When & Then mockMvc.perform(post("/api/users") .contentType(MediaType.APPLICATION_JSON) .content(objectMapper.writeValueAsString(request))) .andExpect(status().isCreated()) .andExpect(jsonPath("$.success").value(true)) .andExpect(jsonPath("$.data.username").value("johndoe")) .andExpect(jsonPath("$.data.email").value("john@example.com")); verify(userService).createUser(any(CreateUserRequest.class)); } @Test void shouldReturnBadRequestWhenValidationFails() throws Exception { // Given CreateUserRequest request = new CreateUserRequest(); request.setUsername(""); // Invalid username request.setEmail("invalid-email"); // Invalid email request.setPassword("123"); // Too short password // When & Then mockMvc.perform(post("/api/users") .contentType(MediaType.APPLICATION_JSON) .content(objectMapper.writeValueAsString(request))) .andExpect(status().isBadRequest()) .andExpect(jsonPath("$.success").value(false)); verify(userService, never()).createUser(any(CreateUserRequest.class)); } @Test void shouldGetUserById() throws Exception { // Given Long userId = 1L; User user = new User(); user.setId(userId); user.setUsername("johndoe"); user.setEmail("john@example.com"); when(userService.getUserById(userId)).thenReturn(Optional.of(user)); // When & Then mockMvc.perform(get("/api/users/{id}", userId)) .andExpect(status().isOk()) .andExpect(jsonPath("$.success").value(true)) .andExpect(jsonPath("$.data.username").value("johndoe")) .andExpect(jsonPath("$.data.email").value("john@example.com")); verify(userService).getUserById(userId); } @Test void shouldReturnNotFoundWhenUserDoesNotExist() throws Exception { // Given Long userId = 1L; when(userService.getUserById(userId)).thenReturn(Optional.empty()); // When & Then mockMvc.perform(get("/api/users/{id}", userId)) .andExpect(status().isNotFound()); verify(userService).getUserById(userId); } } Integration Testing 1. Repository Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 @DataJpaTest class UserRepositoryTest { @Autowired private TestEntityManager entityManager; @Autowired private UserRepository userRepository; @Test void shouldFindUserByUsername() { // Given User user = new User(); user.setUsername("johndoe"); user.setEmail("john@example.com"); user.setPassword("password123"); user.setFirstName("John"); user.setLastName("Doe"); entityManager.persistAndFlush(user); // When Optional&lt;User> found = userRepository.findByUsername("johndoe"); // Then assertThat(found).isPresent(); assertThat(found.get().getUsername()).isEqualTo("johndoe"); } @Test void shouldFindUsersByStatus() { // Given User activeUser = new User(); activeUser.setUsername("activeuser"); activeUser.setEmail("active@example.com"); activeUser.setPassword("password123"); activeUser.setFirstName("Active"); activeUser.setLastName("User"); activeUser.setStatus(UserStatus.ACTIVE); User inactiveUser = new User(); inactiveUser.setUsername("inactiveuser"); inactiveUser.setEmail("inactive@example.com"); inactiveUser.setPassword("password123"); inactiveUser.setFirstName("Inactive"); inactiveUser.setLastName("User"); inactiveUser.setStatus(UserStatus.INACTIVE); entityManager.persistAndFlush(activeUser); entityManager.persistAndFlush(inactiveUser); // When List&lt;User> activeUsers = userRepository.findByStatus(UserStatus.ACTIVE); // Then assertThat(activeUsers).hasSize(1); assertThat(activeUsers.get(0).getStatus()).isEqualTo(UserStatus.ACTIVE); } } 2. Full Integration Test 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) @Testcontainers class UserControllerIntegrationTest { @Container static MySQLContainer&lt;?> mysql = new MySQLContainer&lt;>("mysql:8.0") .withDatabaseName("testdb") .withUsername("test") .withPassword("test"); @Autowired private TestRestTemplate restTemplate; @Autowired private UserRepository userRepository; @DynamicPropertySource static void configureProperties(DynamicPropertyRegistry registry) { registry.add("spring.datasource.url", mysql::getJdbcUrl); registry.add("spring.datasource.username", mysql::getUsername); registry.add("spring.datasource.password", mysql::getPassword); } @BeforeEach void setUp() { userRepository.deleteAll(); } @Test void shouldCreateAndRetrieveUser() { // Given CreateUserRequest request = new CreateUserRequest(); request.setUsername("johndoe"); request.setEmail("john@example.com"); request.setPassword("password123"); request.setFirstName("John"); request.setLastName("Doe"); // When ResponseEntity&lt;ApiResponse&lt;User>> createResponse = restTemplate.postForEntity( "/api/users", request, new ParameterizedTypeReference&lt;ApiResponse&lt;User>>() {} ); // Then assertThat(createResponse.getStatusCode()).isEqualTo(HttpStatus.CREATED); assertThat(createResponse.getBody().getSuccess()).isTrue(); assertThat(createResponse.getBody().getData().getUsername()).isEqualTo("johndoe"); // When - Get user Long userId = createResponse.getBody().getData().getId(); ResponseEntity&lt;ApiResponse&lt;User>> getResponse = restTemplate.getForEntity( "/api/users/" + userId, new ParameterizedTypeReference&lt;ApiResponse&lt;User>>() {} ); // Then assertThat(getResponse.getStatusCode()).isEqualTo(HttpStatus.OK); assertThat(getResponse.getBody().getData().getUsername()).isEqualTo("johndoe"); } @Test void shouldReturnAllUsers() { // Given User user1 = new User(); user1.setUsername("user1"); user1.setEmail("user1@example.com"); user1.setPassword("password123"); user1.setFirstName("User"); user1.setLastName("One"); User user2 = new User(); user2.setUsername("user2"); user2.setEmail("user2@example.com"); user2.setPassword("password123"); user2.setFirstName("User"); user2.setLastName("Two"); userRepository.saveAll(Arrays.asList(user1, user2)); // When ResponseEntity&lt;ApiResponse&lt;List&lt;User>>> response = restTemplate.exchange( "/api/users", HttpMethod.GET, null, new ParameterizedTypeReference&lt;ApiResponse&lt;List&lt;User>>>() {} ); // Then assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK); assertThat(response.getBody().getData()).hasSize(2); } } Testing v·ªõi TestContainers 1. Database Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 @SpringBootTest @Testcontainers class DatabaseIntegrationTest { @Container static MySQLContainer&lt;?> mysql = new MySQLContainer&lt;>("mysql:8.0") .withDatabaseName("testdb") .withUsername("test") .withPassword("test"); @DynamicPropertySource static void configureProperties(DynamicPropertyRegistry registry) { registry.add("spring.datasource.url", mysql::getJdbcUrl); registry.add("spring.datasource.username", mysql::getUsername); registry.add("spring.datasource.password", mysql::getPassword); } @Test void shouldConnectToDatabase() { // Test database connection assertThat(mysql.isRunning()).isTrue(); } } 2. Redis Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @SpringBootTest @Testcontainers class RedisIntegrationTest { @Container static GenericContainer&lt;?> redis = new GenericContainer&lt;>("redis:7-alpine") .withExposedPorts(6379); @DynamicPropertySource static void configureProperties(DynamicPropertyRegistry registry) { registry.add("spring.redis.host", redis::getHost); registry.add("spring.redis.port", () -> redis.getMappedPort(6379)); } @Test void shouldConnectToRedis() { assertThat(redis.isRunning()).isTrue(); } } Testing Configuration 1. Test Configuration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 @TestConfiguration public class TestConfig { @Bean @Primary public PasswordEncoder testPasswordEncoder() { return new BCryptPasswordEncoder(); } @Bean @Primary public Clock testClock() { return Clock.fixed(Instant.parse("2024-01-01T00:00:00Z"), ZoneOffset.UTC); } } 2. Test Properties 1 2 3 4 5 6 # application-test.properties spring.datasource.url=jdbc:h2:mem:testdb spring.datasource.driver-class-name=org.h2.Driver spring.jpa.hibernate.ddl-auto=create-drop spring.jpa.show-sql=true logging.level.org.springframework.web=DEBUG Performance Testing 1. Load Testing 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT) class PerformanceTest { @Autowired private TestRestTemplate restTemplate; @Test void shouldHandleConcurrentRequests() throws InterruptedException { int numberOfThreads = 10; int requestsPerThread = 100; CountDownLatch latch = new CountDownLatch(numberOfThreads); AtomicInteger successCount = new AtomicInteger(0); AtomicInteger errorCount = new AtomicInteger(0); for (int i = 0; i &lt; numberOfThreads; i++) { new Thread(() -> { try { for (int j = 0; j &lt; requestsPerThread; j++) { try { ResponseEntity&lt;String> response = restTemplate.getForEntity( "/api/users", String.class); if (response.getStatusCode().is2xxSuccessful()) { successCount.incrementAndGet(); } else { errorCount.incrementAndGet(); } } catch (Exception e) { errorCount.incrementAndGet(); } } } finally { latch.countDown(); } }).start(); } latch.await(30, TimeUnit.SECONDS); int totalRequests = numberOfThreads * requestsPerThread; assertThat(successCount.get()).isGreaterThan(totalRequests * 0.9); // 90% success rate assertThat(errorCount.get()).isLessThan(totalRequests * 0.1); // Less than 10% errors } } Test Coverage 1. JaCoCo Configuration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 &lt;plugin> &lt;groupId>org.jacoco&lt;/groupId> &lt;artifactId>jacoco-maven-plugin&lt;/artifactId> &lt;version>0.8.8&lt;/version> &lt;executions> &lt;execution> &lt;goals> &lt;goal>prepare-agent&lt;/goal> &lt;/goals> &lt;/execution> &lt;execution> &lt;id>report&lt;/id> &lt;phase>test&lt;/phase> &lt;goals> &lt;goal>report&lt;/goal> &lt;/goals> &lt;/execution> &lt;/executions> &lt;/plugin> 2. Coverage Goals 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 &lt;plugin> &lt;groupId>org.jacoco&lt;/groupId> &lt;artifactId>jacoco-maven-plugin&lt;/artifactId> &lt;configuration> &lt;rules> &lt;rule> &lt;element>BUNDLE&lt;/element> &lt;limits> &lt;limit> &lt;counter>LINE&lt;/counter> &lt;value>COVEREDRATIO&lt;/value> &lt;minimum>0.80&lt;/minimum> &lt;/limit> &lt;/limits> &lt;/rule> &lt;/rules> &lt;/configuration> &lt;/plugin> Best Practices 1. Test Naming 1 2 3 4 5 6 7 8 9 10 11 12 13 // ‚úÖ Good naming @Test void shouldReturnUserWhenValidIdProvided() { } @Test void shouldThrowExceptionWhenUserNotFound() { } // ‚ùå Bad naming @Test void test1() { } @Test void testUser() { } 2. Test Structure (AAA Pattern) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 @Test void shouldCreateUserSuccessfully() { // Arrange - Given CreateUserRequest request = new CreateUserRequest(); request.setUsername("johndoe"); // ... setup data when(userRepository.existsByUsername("johndoe")).thenReturn(false); // ... setup mocks // Act - When User result = userService.createUser(request); // Assert - Then assertThat(result).isNotNull(); assertThat(result.getUsername()).isEqualTo("johndoe"); // ... verify results } 3. Test Isolation 1 2 3 4 5 6 7 8 @BeforeEach void setUp() { // Reset mocks reset(userRepository, passwordEncoder); // Clear database userRepository.deleteAll(); } K·∫øt Lu·∫≠n Testing trong Spring Boot cung c·∫•p m·ªôt b·ªô c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng code. V·ªõi nh·ªØng ki·∫øn th·ª©c n√†y, b·∫°n c√≥ th·ªÉ:
...</p></div><footer class=entry-footer><span title='2024-01-04 08:30:00 +0700 +07'>January 4, 2024</span>&nbsp;¬∑&nbsp;<span>8 min</span>&nbsp;¬∑&nbsp;<span>1654 words</span></footer><a class=entry-link aria-label="post link to Testing trong Spring Boot - Unit Test v√† Integration Test" href=https://nguyenthanhluan09060024.github.io/my-programming-blog/posts/java-spring-boot-testing/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://nguyenthanhluan09060024.github.io/my-programming-blog/>My Programming Blog</a></span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>